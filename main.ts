namespace SpriteKind {
    export const skill1_boss_map3 = SpriteKind.create()
}
controller.B.onEvent(ControllerButtonEvent.Pressed, function () {
    if (x1 == 1) {
        projectile = sprites.createProjectileFromSprite(img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . 1 1 3 . . . . . . 
            . . . . . . 1 3 . 3 3 . . . . . 
            . . . . . . 1 . . . 3 2 2 3 . . 
            . . . . . 1 3 . . . 2 2 1 3 3 . 
            . . . . . 1 3 . 2 2 3 1 1 1 3 . 
            . . 2 2 2 1 3 3 3 3 3 1 1 1 3 . 
            . . 1 1 1 1 3 1 1 1 1 1 1 1 3 . 
            . . 2 2 2 1 3 3 3 3 3 1 1 1 3 . 
            . . . . . 1 3 . 2 2 3 1 1 1 3 . 
            . . . . . 1 3 . . . 2 2 1 3 3 . 
            . . . . . . 1 . . . 3 2 2 3 . . 
            . . . . . . 1 3 . 3 3 . . . . . 
            . . . . . . . 1 1 3 . . . . . . 
            . . . . . . . . . . . . . . . . 
            `, nv_map3, -100, 0)
    }
})
controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    if (x0 == 1) {
        if (nv_map2.isHittingTile(CollisionDirection.Bottom)) {
            nv_map2.vy += -200
        }
    }
})
function boss_map3 () {
    boss = sprites.create(img`
        .............6666...............
        ..........666667766.6666........
        .........677777777767776........
        ......66667775577757777666......
        .....677666675557557776777666...
        .....6776777775555577777766776..
        ...66666777777775777777766666...
        .66667767777755757555777776776..
        6666777677775577557555777767766.
        .6667767777777775577777777767666
        .c6766777677777775777777677766..
        cc77666667777777777777777666666c
        cc76666677777777777777777766776c
        c6666776777777777777766677666776
        66667766667776777767767766766666
        ccc76677677776677766767776776ccc
        cc7766776777677677676667767766cc
        .666c676667677766667766666666cc.
        .ccc66676666776666677677666cccc.
        ...ccc77c6767666676676677666ccc.
        ...cc676c7766676677666666c666cc.
        ....c6cc676c6677677c66c666ccc...
        ....ccccc6c66667667cc6ccc6ccc...
        ......ccccc66c66c66cccccccc.....
        .......cc.cc6c6ccc6cccc.cc......
        ...........cccccccccc...........
        .............feeeeee............
        ............feeeeeefe...........
        .........eeeeefeeeffee..........
        ............ffffeef..ee.........
        ...............fee..............
        ................e...............
        `, SpriteKind.Enemy)
    boss.setStayInScreen(true)
    boss.ay = 500
    statusbar = statusbars.create(0, 0, StatusBarKind.EnemyHealth)
    statusbar.value = 100
    tiles.placeOnRandomTile(boss, sprites.dungeon.collectibleRedCrystal)
}
statusbars.onZero(StatusBarKind.EnemyHealth, function (status) {
    boss.destroy()
    nv_map3.destroy()
    game.showLongText("loc", DialogLayout.Bottom)
    Map4()
})
scene.onOverlapTile(SpriteKind.Player, assets.tile`myTile17`, function (sprite, location) {
    game.showLongText("This is the exit that leads to another place", DialogLayout.Bottom)
    x0 = 1
    Map3()
})
function Map2 () {
    nv_map1.destroy()
    scene.setBackgroundImage(assets.image`map2`)
    tiles.setCurrentTilemap(tilemap`level2`)
    nv_map2 = sprites.create(img`
        . . . . . f f 4 4 f f . . . . . 
        . . . . f 5 4 5 5 4 5 f . . . . 
        . . . f e 4 5 5 5 5 4 e f . . . 
        . . f b 3 e 4 4 4 4 e 3 b f . . 
        . . f 3 3 3 3 3 3 3 3 3 3 f . . 
        . f 3 3 4 b 3 4 4 3 b 4 3 3 f . 
        . f 3 3 f f 4 4 4 4 f f 3 3 f . 
        . f 4 4 f 1 f 4 4 f 1 f 4 4 f . 
        . f 4 4 4 1 f d d f 1 4 4 4 f . 
        f f 4 4 f d d d d d d f 4 4 f f 
        f 4 4 f f f d d d d f f f 4 4 f 
        . f d d f b b b b b b f d d f . 
        . . d d c d d d d d d c d d . . 
        . . d f b d b d b d b b f d . . 
        . . . f f 1 d 1 d 1 d f f . . . 
        . . . . . f f b b f f . . . . . 
        `, SpriteKind.Player)
    controller.moveSprite(nv_map2, 100, 0)
    nv_map2.ay = 500
    tiles.placeOnRandomTile(nv_map2, assets.tile`myTile16`)
    scene.cameraFollowSprite(nv_map2)
    game.showLongText("This is the mountain god Blicz that protects the center of the forest", DialogLayout.Bottom)
    game.showLongText("Try to climb over the mountain and be careful on high", DialogLayout.Bottom)
}
sprites.onOverlap(SpriteKind.Enemy, SpriteKind.Player, function (sprite, otherSprite) {
    if (skill1_boss_map3.overlapsWith(nv_map3)) {
        nv_map3.destroy(effects.spray, 500)
        game.showLongText("Hay thu lai nao", DialogLayout.Bottom)
        Map3()
        if (skill2_boss_map3.overlapsWith(nv_map3)) {
            nv_map3.destroy(effects.spray, 500)
            game.showLongText("Hay thu lai nao", DialogLayout.Bottom)
            Map3()
        }
        if (skill3_boss_map3.overlapsWith(nv_map3)) {
            nv_map3.destroy(effects.spray, 500)
            game.showLongText("Hay thu lai nao", DialogLayout.Bottom)
            Map3()
        }
    }
})
function Map4 () {
    nv_map3.destroy()
    scene.setBackgroundImage(img`
        6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
        6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
        6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
        6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
        6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
        6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
        666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666661ddd6666666666666666666666666666666666666666666
        666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666d111111111116666666666666666666666666666666666666666
        6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666611111111111111166666666666666666666666666666666666666
        6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666dd1111111111111111111666666666666666666666666666666666666
        6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666d11111111111111111111111111666666666666666666666666666666666
        6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666d11111111111111111111111111111116666666666666666666666666666666
        6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666d111111111111111111111111111111111111111111d6666666666666666666666
        6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666111111111111111111111111111111111111111111111111111ddd666666666666666
        66666666666666666666666666666666666666666666666666666666666666666666666666666666666666611111111111111111111111111111111111111111d1111111111111111dddddd66666dddd
        66666666666666666666666666666666666666666666666666666666666666666666666666666666666111111dddd11111111111111111111111111111111111111111111dd1111111ddddddddddddd1
        6666666666666666666666666666666666666666666666666666666666666666666666666666666dd111111ddd111111111111111111111111111d11111111dd111dd11111111111111111111dddd111
        666666666666666666666666666666666666666666666666666666666666666666666666111111111111111111111111111111111111111d111d1111ddddddddd111111111ddddd111ddddddddd11111
        66666666666666666666666666666666666666666666666666666666666666666666911111111111111d1111111111dddddd11111dddd1ddddddddddddddddddddd1111dd111111111ddddddd1111111
        666666611111d66666666666666666666666666666666666666666666d1111111111d111d11111111111111111111111dddd1111dddddddddddddddddddddddddd111111111111dddddddddd11111111
        66666111111111166666666666666666666666666666666dd1111dddd11111111111ddddd11111111111111111111111111111ddddddddddddddddddddddddddd111111dddddddddddddddd11111111b
        666111111111111111666666666666666666666dd111111d11111ddddddddddddddddddddddddddddddddddddd11111111111ddddddddddddddddddddddddddddd11ddddddddddddddddd11111bbbbbb
        1ddd1dd11111ddd1111111666666666dd11111111111111dddddddddddd11111111ddddddddddddddddddddddddddd1111111dddddddddddddddddddddddddddddddddddddddddddddd11111bbbbbbbb
        ddddddddd11dddddd11111111111dd1111111111dddddddddddddd1111111111111111ddddddddddddddddddddddddddd111111ddddddddddddddddddddddddddddddddddddddddddbbb1bbbbbbbbbbb
        dddddddddddddddddddddd1111111d1dddddddddddddddddd1111111111111111111111111dddddddddddddddddddddddddd11111111ddddddddddddddddddddddddddddddddddbbbbbbbbbbbbbbbbbb
        111111ddddddddddddddddddddddddddddddddddddddb111111111111111111111111111111111dddddddddddddddddddddddddd111111dddddddddddddddddddddddddddddbbbbbbbbbbbbbbbbbbbbb
        1111111111dddddddddddddddddddddddddddddddb111111111111111111111111111111111b1111ddddddddddddddddddddddddddddd1ddddddddddddddddddddddddddbbbbbbbbbbbbbbbbbbbbb11b
        1111111111111dddddddddddddddddddddddddb1111111111111111111111bbb11111111111111111111ddddddddddddddddddddddddddddddddddddddddddddddddbbbbbbbbbbbbbbbbbbbbb1111111
        1111111bbb111111ddddddddddddddddddddbb1111111111111111bbbbbb111bb111111111111111111111bbbddddddddddddddddddddddddddddddddddddddddbbbbbbbbbbbbbbbbbb1111111111111
        bbbb111bbbbbb11111ddddddddddddddbbb11111111b111bbb11bbbbbbbbb1bbbbbbbbb1111bb1111b111111111bbddddddddddddddddddddddddddddddddbbbbbbbbbbbbbbbbbbbb111111111111111
        bbbbbbbbbbbbbbbb1111bddddddbbbbbbbb1111bbb111bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb1111b1111111bbbbbbbbdddddddddddddddddddddddbbbbbbbbbbbbbbbbbbbbb11111111111111111
        bbbbbbbbbbbbbbbbbb1bbbbbbbbbbbbbbbbbbbbbbb11bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb11bbbbbbbbbbbbbbbbbbbbbbdddddddbbbbbbbbbbbbbbbbbbbbbbbbbbbbc1111111111111111111
        bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbcc1111111111111111111c11
        bbbbbbbb1b11bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbcccc11111111111111111111111111
        bbbbb11111111111b11bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbccccc11111111111c11111111111111111111
        bbb11111111111111111bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb11111111111bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbccccccccc11111111111c11111c111111cc11c11111c
        bb1111111111111111111111bbbbbbbbbbbbbbbbbbbbbbbbbb111111111111111bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb111111ccccccccccc1111c111c11111111c1111cccc11cc11111c
        bb11111111111111111111111111bb1bbbbbbbbbbbbbbbcc1111111111111111111bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb111111111111ccccccccccccc11111111c111c1111cccc11cc111111c
        b11111c1111111111111111111111c1111111bbbc111111111111111111111cc111111cbbbbbbbbbbbbbbbbbbbbbbbbb111111111111111111cc1ccccccccc11111cccccc111111ccccc11ccc11111cc
        b1111ccc1111111111111111111111cc111111ccccccccc111111111111111ccccccc11111cbbbbbbbbbbbbbbbbbbbbc111111cc11111111ccccccccccccccc1cccccccc11c111ccccc111cc11111ccc
        1111dccc111111111111111111111111cccc11cccccccccc11111cccccccccccccccccc111111cccccbbbbbbcccccccccccccc111111ccccccccccccccccccccccccccc111111ccccccc1ccc11111ccc
        1cccc1111111111111111111c111111111cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc1111cccccccccccccccccccc
        cccc11111111111111111111111111111111ccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc1cccccccccccccccccccccc
        ccc111111111111111111111111111111c111ccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
        11c11111c11111c1c1111cc1111111c111c11111cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
        1111111ccc111cc1cc111cc111111111111cc111111ccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
        111c11ccc1111cc1cc11ccccc111ccc11111cccc1111cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
        11cccccccc11cc11cc11cccccc111ccccc11cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
        ccccccccccccccc1ccc11ccccccc11cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
        ccccccccccccccc1cccc1cccccccc11ccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
        cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
        cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
        cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
        cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
        ccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc6cccccccccccccccccccc
        cccccccccccccccccccccccccc66cccccccccccccccc6ccccccccccccccccccccccccccccccccccccccccccc666c6cccccccccccc66666ccccccccccccccccc6ccccccc6ccc66ccccc6ccccccccccccc
        6cc6c6666c6c6666c666cc66c666666666666666c666666cccc6666c66666666666666666666666cc6666666666666666666666666666666666666666666666666666cc666666666666666666666c666
        666666666666666666666666e6666666666666666666ee6666666666666666666666666666666666666666eeeee6ee66666666666eeeee66666e66e66ee6666666e666e66666666eeee6666e66666666
        6666e66e6e6ee666e66666666666666666ee6666666eee6666666eeee66eee66eee66666eee66eee666666ee66ee66eeeee76eeee6e66ee66666666eeee66e66666666e666666666eeeee6666ee66666
        666e666666666666666e666666666666668888888888888888888888888888888888888888888888888888888888888888886ee666e66ee66666666eee666eeee6eee66666666666ee6e666ee6666666
        6666666e66666eee66666666688888888888888888888888888888888888888888888888888888888888888888888888888888868888888888888888888888888888868888888e6666666666666e666e
        66666666666666e66666666e88888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888866666e666666666e
        66666666666666666ee66668888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888886666e66666e66e
        66666666666e6666666666e8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888e66666e666666
        6666e66ee666666ee6e88888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888866666666e666
        666666666666ee8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888868888666666e
        66e6666666e88888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888666666
        6e6666e668888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888866666
        6e666e668888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888866e
        66666e8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888666
        6666688888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888666
        6666688888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888666
        66e6888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888666
        ee66888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888e66
        666e888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888666
        66666888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888668e66ee
        ee66888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888866666e66
        e6666888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888666ee666
        e666866888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888688888886886666666666
        666e66688888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888868888886667666666e666
        6666668868886888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888666866e666666eee66666
        66e666e666886888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888666666666ee666e666666666
        66e6666666866888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888886666666666666666666666666
        6666666666e66688888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888886866eee666666e66666666666666
        e66666e66666668888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888686e666e6666e666e66666666666
        ee66666666666688888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888866666666ee666e666e66666666666
        666666666666666688888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888886686ee666e6666e666e6666e6e66e
        6666666666e66666888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888886666e666eee6666666e6e6666666
        6666666666e6666888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888886e66666eee66ee6666666e6666666
        e66e66666e66688888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888666666666eee6666eee666666
        e66666e6666668888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888e66666666ee666ee6666
        66666e666688888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888666666e666666666
        666e66688888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888e66666e
        e6e6668888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888666
        6666688888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888886
        6888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        ee88888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        `)
    tiles.setCurrentTilemap(tilemap`level6`)
    nv_map4 = sprites.create(img`
        . . . . . f f 4 4 f f . . . . . 
        . . . . f 5 4 5 5 4 5 f . . . . 
        . . . f e 4 5 5 5 5 4 e f . . . 
        . . f b 3 e 4 4 4 4 e 3 b f . . 
        . . f 3 3 3 3 3 3 3 3 3 3 f . . 
        . f 3 3 4 b 3 4 4 3 b 4 3 3 f . 
        . f 3 3 f f 4 4 4 4 f f 3 3 f . 
        . f 4 4 f 1 f 4 4 f 1 f 4 4 f . 
        . f 4 4 4 1 f d d f 1 4 4 4 f . 
        f f 4 4 f d d d d d d f 4 4 f f 
        f 4 4 f f f d d d d f f f 4 4 f 
        . f d d f b b b b b b f d d f . 
        . . d d c d d d d d d c d d . . 
        . . d f b d b d b d b b f d . . 
        . . . f f 1 d 1 d 1 d f f . . . 
        . . . . . f f b b f f . . . . . 
        `, SpriteKind.Player)
    nv_map4.setPosition(36, 79)
    scene.cameraFollowSprite(nv_map4)
}
function Map3 () {
    nv_map2.destroy()
    nv_map3 = sprites.create(img`
        . . . . . f f 4 4 f f . . . . . 
        . . . . f 5 4 5 5 4 5 f . . . . 
        . . . f e 4 5 5 5 5 4 e f . . . 
        . . f b 3 e 4 4 4 4 e 3 b f . . 
        . . f 3 3 3 3 3 3 3 3 3 3 f . . 
        . f 3 3 4 b 3 4 4 3 b 4 3 3 f . 
        . f 3 3 f f 4 4 4 4 f f 3 3 f . 
        . f 4 4 f 1 f 4 4 f 1 f 4 4 f . 
        . f 4 4 4 1 f d d f 1 4 4 4 f . 
        f f 4 4 f d d d d d d f 4 4 f f 
        f 4 4 f f f d d d d f f f 4 4 f 
        . f d d f b b b b b b f d d f . 
        . . d d c d d d d d d c d d . . 
        . . d f b d b d b d b b f d . . 
        . . . f f 1 d 1 d 1 d f f . . . 
        . . . . . f f b b f f . . . . . 
        `, SpriteKind.Player)
    controller.moveSprite(nv_map3, 100, 100)
    scene.setBackgroundImage(img`
        5555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555
        5555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555
        5555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555
        5555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555
        55555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555bbbbddd5555555555555555555555555555555555555555555555555555555555555
        555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555bbbbbbbdddd55555555555555555555555555555555555555555555555555555555555
        5555555555555555555555dd555555555555555555555555555555555555555555555555555555555555555555bbbbbbbbbddd5555555555555555555555555555555555555555555555555555555555
        5555555555555555555bbddddd555555555555555555555555555555555555555555555555555555555555555bbbbbbbbbbbbdd555555555555555555555555555555555555555555555555555555555
        555555555555555555bbbbbbbdd5555555555555555555555555555555555555555555555555555555dddddddbbbbbbbbbbbbdd555555555555555555555555555555555555555555555555555555555
        555555555555555555bbbbbbbbd55555555555555555555555555555555555555555555555555555ddddddddddbbbbbbbbbbbddb55555555555555555555555555555555555555555555555555555555
        55555555555555555bbbbbbbbbddb51ddd5555555555555555555555555555555555555555555555ddbbbbbbdbbbbbbbbbbbbbdbbb555555555555555555555555555555555555555555555555555555
        55555555555555555bbbbbbbbbddbbddddddddd5555555555555555555555555555555555555555ddbbbbbbbbbbbbbbbbbbbbbbbbbb5ddd5555555555555555555555555555555555555555555555555
        55555555555555555bbbbbbbbbddbbbbbbbbddddd55555555555555555555555555555555555551ddbbbbbbbbbbbbbbbbbbbbbbbbbbdddddd55555555555555555555555555555555555555555555555
        555555551ddddddddbbbbbbbbbbdbbbbbbbbdddddb555555555555555555555555555555555555ddbbbbbbbbbbbbbbbbbbbbbbbbbbddbbbddd5555555555555555555555555555555555555555555555
        5555555dddddddddddbbbbbbbbbbbbbbbbbbbbbbbbb555555555555555555555555555555555551dbbbbbbbbbbbbbbbbbbbbbbbbbbddbbbbdd5555555555555555555555555555555555555555555555
        5555551ddbbbbbbbbddbbbbbbbbbbbbbbbbbbbbbbbbb55555555555555555555555555555555ddddbbbbbbbbddbbbbbbbbbbbbbbbbbbbbbbbdd555555555555555555555555555555555555555555555
        555555ddbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb5555555555555555555555555555555dddbddbbbbbbddbbbbbbbbbbbbbbbbbbbbbbbbdd555555555555555555555555555555555555555555555
        55555ddbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb555555555555555555555555555555dddbbbbbbbbbbddbbbbbbbbbbbbbbbbbbbbbbbbdd555555555555555555555555555555555555555555555
        55555ddbbbbbbbbbbbbbbbbbbbbbbddbbbbbbbbbbbbb555555555555555555555555555555ddbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbdd555555555555555555555555555555555555555555555
        55555bbbbbbbbbbbbbbbbbbbbbbbbddbbbbbbbbbbbbb555555555555555555555555555555dbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbdd5555555555555555555555555555555555555555555555
        55555bbbbbbbbbbbbbbbbbbbbbbbbbddbbbbbbbbbbbb555555555555555555555555555555dbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbdd5555555555555555555555555555555555555555555555
        555555bbbbbbbbbbbbbbbbbbbbbbbbddbbbbbbbbbbb5555555555555555555555555555555bbbbbbbbbbbbbbbbbbbbbbbbbbddbbbbbbbbbdd555555555555555555555555bbdddd55555555555555555
        555555bbbbbbbbbbbbbbbbbbbbbbbbddbbbbbbbbbb55555555555555555555555555555555bbbbbbbbbbbbbbbbbbbbbbbbbbddbbbbbbbbbdb5555555555555555555555bbbbbddddd555555555555555
        5555555bbbbbbbbbbbbbbbbbbbbbbbbb5555511555555555555555555555555555555555555bbbbbbbbbbbbbbbbbbbbbbbbbddbbbbbbbbbbb555555555555555555555bbbbbbbbbddd55bbbbb5555555
        55555555bbbbbbbbbbbbbbbbbbbbbbb555555555555555555555555555555555555555555555bbbbbbbbbbbbbbbbbbbbbbbbddbbbbbbbbbb55555555555555555dddddbbbbbbbbbbdddbbbbdd1155555
        5555555551bbbbbbbbbb5551bbbbb15555555555555555555555555555555555555555555555bbbbbbbbbbbbbbbbbbbbbbbbddbbbbbbbbb55555555555555555dddddddddbbbbbbbbddbbbbdddd15555
        555555555555555555555555511155555555555555555555555555555555555555555555555555555555555bbbbbbbbbbbbbdbbbbbbb5555555555555555555bdbbbbbbddbbbbbbbbddbbbbbbbdd5555
        55555555555555555555555555555555555555555555555555555555555555555555555555555555555555555bbbbbbbbbbbb5555555555555555555d55555bbbbbbbbbbbbbbbbbbbbbbbbbbbbdd5555
        5555555555555555555555555555555555555555555555555555555555ddddd55555555555555555555555555555bbbbb5555555555555555555ddddddddddbbbbbbbbbbbbbbbbbbbbbbbbbbbbdd1555
        555555555555555555555555555555555555555555555555dddddddddddddddddd5555555555555555555555555555555555555555555555555dddbbbbbdddddbbbbbbbbbbbbbbbbbbbbbbbbbbdd5555
        5555555555555555555555555555555555555555555555bbdddbbbddddbbbbbbdddd55555555555555555555555555555555555555555555555bbbbbbbbbbbddbbbbbbbbbbbbbbbbbbbbbbbbbbdd5555
        555555555555555555555555555555555555dddddddddbbbbbbbbbbddbbbbbbbbbddd5555555555555555555555555555555555555555555555bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbdd15555
        5555555555555555555555555555555555bddddddbdddddbbbbbbbbbbbbbbbbbbbbbddbb5555555555555555555555555555555555555555555bbbbbbbbbbbbbbbbbbbbbbbbddbbbbbbbbbbbdd155555
        55555555555555555555555555555555bbbbbbbbbbbbbddddbbbbbbbbbbbbbbbbbbbbdbbbbbbdd5555555555555555555555555555555555555bbbbbbbbbbbbbbbbbbbbbbbbddbbbbbbbbbbbd1155555
        55555555555555555555555555555551ddbbbbbbbbbbbbbddbbbbbbbbbbbbbbbbbbbbdbbbbbbdddd555555555555555555555555555555555555bbbbbbbbbbbbbbbbbbbbbdddddbbbbbbbbbb15555555
        55555555555555555555555555bdddddddddbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbdd555555555555555555555555555555555555bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb55555555
        5555555555555555555555555bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbddbbbbbbbbbbbbbbbbdd55555555555555555555555555555555555bbb5555555bbbbbbbbbbbb55555555bbb5555555555
        5555555555555555555555555bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbddbbbbbbbbbbbbbbbbbd555555555555555555555555555555555555555555555555555555555555555555555555555555
        555555555555555555555555bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbddbbbbbbbbbbbbbbbbd555555555555555555555555555555555555555555555555555555555555555555555555555555
        5555555555555555555555555bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbddbbbbbbbbbbbbbbbbb555555555555555555555555555555555555555555555555555555555555555555555555555555
        5555555555555555555555555bbbbbbbbbbbbbbbbbbbbddbbbbbbbbbbbbbbbbdbbbbbbbbbbbbbbbbbb555555555555555555555555555555555555555555555555555555555555555555555555555555
        55555555555555555555555555bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb5555555555555555555555555555555555555555555555555555555555555555555555555555555
        555555555555555555555555555bbbbbbbbb5555555bb5555555555555555555bbbbbbbbbbbbbbbb55555555555555555555555555555555555555555555555555555555555555555555555555555555
        5555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555
        5555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555
        5555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555
        5555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555
        5555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555
        5555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555
        5555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555
        5555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555
        5555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555
        5555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555
        5555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555
        5555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555
        5555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555
        5555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555
        5555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555
        5555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555
        5555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555
        5555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555
        5555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555
        5555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555
        555c555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555
        55cc55555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555e55555555555555555ee55555555555
        55555555555555555555555e555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555eee5eeee5555555555555555ee5e555ccc5c5
        55555c555555555555555eee5e5555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555eeeeee9ee5555555555555eeeeee5555c55cc
        5555cc5ee5555555555eeeeeee55555555555555555555555555555555ee5555555555555555555555555555555555555555555555555555555555555555eee5eee5555555555555eeeeebee55ccc55c
        55c55eeeeecc5555555eeeeeee5555555555555555555555555555555eeeee5555555555555555555555555555555555555555555555555555555555555eee555eee555555555555eeee55eee5cc5555
        5cc5eeeeeeee5555555eee5eeeee5555555555555555cc55555ccc555eeeeee55cc555555555555555555555555555555555cc555555555cc5555555555eee55eeee5555555555555ee555eee5ccc555
        cc9c9ee5eeeecc55555ee555eee55555cc5555555555cc555555555eee55eee555555555cc5cc555555cc55555555c555555cc5555c5555ccc55555555555eeeeee555555c555555eeee5eec55ccccc5
        c99cce555ee9cc55c5eeee5eeeeec555cc55cc55555555555555555eee5eeee555555555c555c55555555555c5555c555555555555c5555c5555555cccc5eeeeeeecc555ccc55555eeeeeeccccccccc5
        9cc9eeeeeee99cc555eeeeeeeee55555555cc555555c555555cc555eeeeeee55555555c5555555555cc55555cc55555c555c5cc5555cc55555ccc55cccc57eee7e9cc5555cc555555eeeeeecccccc555
        9ccceeeeeee9cc555555eeeeee55555cc55555555c5555555555555eeeeeee5c5cc555c55c5555555cc5555555c555cc55555555555cc5555555c555cc5577777799c5555cc555cc555579e99cc9cc55
        ccccc977ee9ccc55557797777c55555cc55555555c5555555a555555e9eeee5555c555555c55c555555555cc5cc555c555cc55555565555555555555555577777999cc5555c555cc555777799cc9cc55
        cc997777799c975557779777755555555aa75c5577555777aa5577c7977e7777755555c5555cc5555557755c5aa557c555775c75556575cc577cc7aa5c5557779997cc5555c55555775777799cc9cc55
        c779777779777777579777777757c7756a7757c577757777aaaaa77797777777775577c5577555775c577779a6a57777557757755565757c577c779a6c7757797777c77c77555c7a7aa777cc99cccc55
        9777977779777a7777c777797757c775aaa77777777777777777777777777777777c77c777777777777777777aa777777777777777aa777777777aa7aa777777777777777777557a7a7779979c7797c5
        9779977777777aa77777777777777777777777777777777777777777777777777777777777777777777777777777777777777aa77777777777777aa77777777777777777777777777a777777cc7797c5
        777777777777777777777777777777a777777777777777777777777777a777777777777777777777aa7777777777777777777aa777777777777777777777777777777777777777777777777777777777
        777777777777777777777777777777a77777777777777777777777777aa777777777777777777777777777777777aa77777777777777777777777777777777777777a777777777777777777777777777
        7777777777777777777777777777777777777777aa7777777777777777a7777777777777777777777777777777777a77777777777777777777777777777777777777a777777777777777777777777777
        77777777777777777aa777777777777777777777aa77777777aa777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        77777777777777777777777777777777777777777777777777a777777777777777aa777777777777777777777777777777777777777777777777777777777777777777777777777777777aa777777777
        777777777777777777777777777777777777777777777777777777777777777777777777777777a7777777777777777777777777777aa777777777777777777777777777777777777777777777777777
        7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777aa777777777777777777777777777777777aa77777777777777777777777777777777777
        77777777777777777777777777777777777777777777aa777777777777777777777777777777777777777777a77777777777777777777777777777777777777777777777777777777777777777777777
        777777aa77777777777777777aa777777777a7777777aa777777777777a77777777777777777777777777777777777777777777a77777777777777777777777777777777777777777777777777777777
        777777aa7777777777777777777777777777a777777777777777777777aa777777777777777777777777777777777777777777aa777777777777777777777777777777777aa777777777777777777777
        777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777a777777777777777777777
        7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        777777777777777777777777777777777777777777777777777777777777777777777777777777777777aa77777777777777777777777777777777777777777777777777777777777777777777777777
        7777777777777777777777777777777777777777777777777777777777777777777777777777777777777b77777777777777777777777777777777777777777777777777777777777777777aa7777777
        77777777777777777777777777777777777777777777777777777777777777777aa7777777777777777777777777777777777777777777777aa777777777777777777777777777777777777777777777
        77777777777777777777777777777777777777777aa777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        777777777777777777aa777777777777777777777a7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777a777777777777777777777777777777
        7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        `)
    tiles.setCurrentTilemap(tilemap`level5`)
    nv_map3.setStayInScreen(true)
    tiles.placeOnRandomTile(nv_map3, sprites.dungeon.collectibleBlueCrystal)
    x1 = 1
    boss_map3()
}
scene.onOverlapTile(SpriteKind.Player, sprites.builtin.field1, function (sprite, location) {
    game.showLongText("This is the exit that leads to another place", DialogLayout.Bottom)
    x0 = 1
    Map2()
})
scene.onOverlapTile(SpriteKind.Player, sprites.castle.tileGrass2, function (sprite, location) {
    Map3()
    game.showLongText("This is a forbidden land guarded by a Guardian God", DialogLayout.Bottom)
    game.showLongText("Let's destroy the Guardian with the Witch's item", DialogLayout.Bottom)
})
function Map1 () {
    nv1_talk1.destroy()
    nv2_talk1.destroy()
    scene.setBackgroundColor(10)
    tiles.setCurrentTilemap(tilemap`level1`)
    nv_map1 = sprites.create(img`
        . . . . . f f 4 4 f f . . . . . 
        . . . . f 5 4 5 5 4 5 f . . . . 
        . . . f e 4 5 5 5 5 4 e f . . . 
        . . f b 3 e 4 4 4 4 e 3 b f . . 
        . . f 3 3 3 3 3 3 3 3 3 3 f . . 
        . f 3 3 4 b 3 4 4 3 b 4 3 3 f . 
        . f 3 3 f f 4 4 4 4 f f 3 3 f . 
        . f 4 4 f 1 f 4 4 f 1 f 4 4 f . 
        . f 4 4 4 1 f d d f 1 4 4 4 f . 
        f f 4 4 f d d d d d d f 4 4 f f 
        f 4 4 f f f d d d d f f f 4 4 f 
        . f d d f b b b b b b f d d f . 
        . . d d c d d d d d d c d d . . 
        . . d f b d b d b d b b f d . . 
        . . . f f 1 d 1 d 1 d f f . . . 
        . . . . . f f b b f f . . . . . 
        `, SpriteKind.Player)
    controller.moveSprite(nv_map1, 100, 100)
    tiles.placeOnRandomTile(nv_map1, sprites.builtin.field0)
    scene.cameraFollowSprite(nv_map1)
    game.showLongText("The princess has reached the edge of the forest. Ahead is a dark forest", DialogLayout.Full)
    game.showLongText("Find a way to get over it", DialogLayout.Bottom)
    tiles.placeOnRandomTile(nv_map1, sprites.builtin.forestTiles0)
}
let nv_map4: Sprite = null
let skill3_boss_map3: Sprite = null
let skill2_boss_map3: Sprite = null
let skill1_boss_map3: Sprite = null
let nv_map1: Sprite = null
let statusbar: StatusBarSprite = null
let boss: Sprite = null
let nv_map2: Sprite = null
let x0 = 0
let nv_map3: Sprite = null
let projectile: Sprite = null
let x1 = 0
let nv2_talk1: Sprite = null
let nv1_talk1: Sprite = null
scene.setBackgroundImage(img`
    ddddddddddddddddddddddddddddddddddd111111111111111111111111ddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd
    ddddddddddddddddddddddddddddddd11111111111111111111111111111111ddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd
    dddddddddddddddddddddddddddddd1111111111111111111111111111111111dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd
    dddddddddddddddddddddddddddd11111111111111111111111111111111111111dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd
    ddddddddddddddddddddddddddd11111111111111111111111111111111111111ddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd
    ddddddddddddddddddddddddd1111111111111111111111111111111111111111111dddd1ddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd
    ddddddddddddddddddddddddd111111111111111111111111111111111111111111d11dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd
    dddddddddddddddddddddd1111111111111111111111111111111111111111111111111ddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd
    dddddddddddddddddddddd111111111111111111cc1111111111111111111111111d111ddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd
    dddddddddddddddddddd1111111111111111111cccc111111111111111111111111111dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd
    ddddddddddddddddddd11111111111111111111cccc11111111111111111111111111111dddd1ddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd
    ddddddddddddddddddd11111111111111111111ccccc11111111111111111111111111111111dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd
    ddddddddddddddddd111111111111111111111cccccc111111111111111111111111111111111ddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd
    ddddddddddddddddd111111111111111111111ccccccc11111111111111111111111111111111111dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd
    dddddddddddddddd1111111111111111111111ccccccc11111111111111111111111111111111111dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd
    ddddddddddddddd1111111d11111d111111111cccccccc11111111111111111111111111111111111ddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd
    dddddddddddddd11111111111111111111111ccccccccc1111111111111111111111111111111111d1dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd
    dddddddddddddd11111111111111111111111cccccccccc1111111ccc111111111ccc111111111111ddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd
    ddddddddddddd11111111111111111111111ccccccccccc1111111cccc111c1111ccc11111111111111ddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd
    ddddddddddddd11111111111111111111111cccccccccccc111111cccc11ccc111ccc1111111111111dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd
    dddddddddddd11111111111111111111111ccccccccccccccc1111cc1c11ccc11cccc111111111111111dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd
    dddddddddddd1111111111111111111111cccccccccccccccc1111cc1c11ccc11c11c111111111111111dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd
    ddddddddddd11111111111111111111111cccccccccccccccc1111ccccccccccccccc1111111111111111ddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd
    dddddddddd111111111111111111111111cccccccccccccccc1111ccccccccccccccc1111111111111111ddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd
    ddddddddd111111111111111111111111111cccccccccccc111111ccccccccccccccc1111111111111111ddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd
    ddddddddddd1111111111111111111111111cc1cc1ccd1cc111111ccccccccccccccc1111111111111111ddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd
    dddddddddd11111111111111111111111111cc1cc1ccc1cc1111111ccccccccccccc1111111111111111dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd
    ddddddddddd1111111111111111111111111cccccccccccc11111111ccccccccccc11111111111111111d1dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd
    dddddddddd11111111111111111111111111cccccccccccc111111111cccccccccc11111111111111111dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd
    dddddddddd11111111111111111111111111cccccccccccc111111111ccccccccc111111111111111111dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd
    ddddddddddd11111111111111111111111111cccccccccc1111111111ccccccccc1111111111111111111ddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd
    dddddddddd1111111111111111111111111111cccccccc11b11111111ccccccccc111111111111bb1111dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd
    ddddddddd111111111111111111111111111111cccccccbccccccc111ccccccccc1111111111111b1111dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd
    dddddddddd1111111111cccb1ccc1111cccc111ccccccccccccccccc1ccccccccc1111111111111b1111dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd
    ddddddddd1111111111ccccb1cccc11ccccc111cccccccccbbccbbbccccccccccc1111111111111b111ddddddddddddddddddddddddddbdddddddddddddddddddddddddddddddddddddddddddddddddd
    ddddddddd1111111111cccccbcccc11ccccc111cccccccccbbcccbbccccccccccc111111111111111111dddddddddddddddddddddddddbbddddddddddddddddddddddddddddddddddddddddddddddddd
    ddddddddd1111111111ccc1ccccccccc1ccc111ccccccccccccccccccccccccccc1111111111111b111bdddddddddddddddddddddddddbbddddddddddddddddddddddddddddddddddddddddddddddddd
    dddddddd11111111111cc11ccc11cccc1ccc111ccccccccc1111cccccccccccccc1111111111111b111bddd1dddddddddddddddddddddbdddbdddddddddddddddddddddddddddddddddddddddddddddd
    dddddddd11111111111cccccccbcccccccccc11cccccccc1111111cccccccccccc1111111111111b111bddd1dddddddddddddddddddddbddbbdddddddddddddddddddddddddddddddddddddddddddddd
    dddddddd11111111111ccccccccccccccccc111ccccccc1111b1111ccccccccccc1111111111111b1dbb1ddddddddddddddbbbbddddddbddbddddddddddddddddddddddddddddddddddddddddddddddd
    dddddddddd111111111cccccccccccccccc1bb1ccccccc1111bb111ccccccccccc11111b1111111b1dbbdddddddddddddddbddbbbddddbdbdddddddddddddddddddddddddddddddddddddddddddddddd
    dddddddddd1111111111cccccccccccccccccccccccccc111111111cccccccccccbb11111111111b1db1dddddddddddddddbdddbbddddbbddddddddddddddddddddddddddddddddddddddddddddddddd
    dddddddddd11111111111cccccccccccccbccbbccccccc1111111b1cccccccccccbbbb111111111b1db1ddd1ddddddddddbbdddbbbddbbdddddddddddddddddddddddddddddddddddddddddddddddddd
    ddddddddd1d11111111111ccccccccccccbbcbbccccccc1111111b1cccccccccccc1b1111111111bbbddddd1dddddddddbbdddddbbdbbddddddddddddddddddddddddddddddddddddddddddddddddddd
    ddddddddd1d11b11111111ccccccccccccbccbcccccccc111111bb1cccccccccccc111111111111bbbdddddddddddddddbbdddddbbbbbddddddddddddddddddddddddddddddddddddddddddddddddddd
    ddddddddd1d11b11111111cccccccccccccccccccccccc1111111bbcccccccccccc11111111111bbbdddddddddddddddddddddddbbbbdddddddddddddddddddddddddddddddddddddddddddddddddddd
    dddddddddddddbbd1bb111cccccccccccc111d1cccccccd1d1111bbcccccccccccc11111111111bbb1ddddddddddddddddddddddbbbbdddddddddddddddddddddddddddddddddddddddddddddddddddd
    dddddddddddddbbd1b1111ccccccccccccddbccccccccccc1ddddbccccccccccccc11111111bb1bb11dddbddddddddddddddddddbbbbdddddddddddddddddddddddddddddddddddddddddddddddddddd
    ddddddddddddddbd1b11bbccccccccccccccccccccccccccbcccccccccccccccccb1d111111bbbbbdddddbbdddddddddddddddddbbbbdddddddddddddddddddddddddddddddddddddddddddddddddddd
    ddddddddddddddbb1b11bbccccccccccccccccccccccccccccccccccccccccccccd1111b1111bbb11ddddbbdddddddddddddddddbbbbdddddddddddddddddddddddddddddddddddddddddddddddddddd
    dddddddddddddddb1b1db1ccccccccccccccccccccccccccccccccccccccccccccc1111d1111bbb11dddddbbddddddddddddddddbbbbbddddddddddddddddddddddddddddddddddddddddddddddddddd
    ddddddddddddddddbb1bbdccccccccccccccccccccccccccccccccccccccccccccb1111d1111bbbddddddddbddddddddddddddddbbbbbddddddddddddddddddddddddddddddddddddddddddddddddddd
    ddddddddddddddddbb1bbdccccccccccccccccccccccccccccccccccccccccccccb1b11d1111bbbddddddddbbdbbddddddddddddbbbbbddddddddddddddddddddddddddddddddddddddddddddddddddd
    ddddddddddddddddbb1b11cccccccccccccccccccccccccccccccccccccccccccccbbb111111bbbddddddddbbdbdddddddbbddddbbbbbddddddddddddddddddddddddddddddddddddddddddddddddddd
    ddddddddddddddddbddbd1ccccccccccccccccccccccccccccccccccccccccccccbbb111d111bbbb1dddddddbbbdddddddbbddddbbbbbddddddddddddddddddddddddddddddddddddddddddddddddddd
    ddddddddddddddddbbb111cccccccccccccccccccccccccccccccccccccccccccc1bb1111111bbbbddddddddbbbdddddddbdddddbbbbbddddbdddddddddddddddddddddddddddddddddddddddddddddd
    ddddddddddddddddbbd111ccccccccccccccccccccccccccccccccccccccccccccd1bbb11111bbbbdddddddddbbddddddbbdddddbbbbbdddbbdddddddddddddddddddddddddddddddddddddddddddddd
    ddddddddddddddddbbdd1dcccccccccccccccccccccccccccccccccccccccccccc111bb11111bbbbdddd1ddddbbddddddbbdddddbbbbbdddbbdddddddddddddddddddddddddddddddddddddddddddddd
    dddddddbbdddddbbbbddddcccccccccccccccccccccccccccccccccccccccccccc111bb1111bbbbbdddddddddbbbdddddbbdddddbbbbbddddbdbdddddddddddddddddddddddddddddddddddddddddddd
    dbddddddddbbbbbbbbbbbbccccccccccccccccccccccccccccccccccccccbcccccb11bb1111bbbbbdddddddddbbbdddddbbdddddbbbbbbbddddddddddddddbdddddddddddddddddddddddddddddddddd
    ddbddbddbbbbbbbbbbbbbbcccccccccccccccccccccccccccccbccccccccccccccd11b11111bbbbbbddddddddbbbdddddbbddddbbbbbbbbbbbdddddddddddddddddddddddddddddddddddddddddddddd
    dbbbbbbbbbbbbbbbbbbbbbcccccccccccccccccccccccccccccccccccccccccccc111bb111bbbbbbbbdddddddbbbbddddbbdddbbbbbbbbbbbbbbbddddddddddddddddddddddddddddddddddddddddddd
    bbbbbbbbbbbbbbbbbbbbbbccccccccccccccccccccccccccccccccccccccccccccbb1bb1bbbbbbbbbbbbdddddbbbbddddbbddbbbbbbbbbbbbbbbbbbbbdddddddbddddddddddddddddddddddddddddddd
    dbbbbbbbbbbbbbbbbbbbbbbcccccccccccccccccccccccccccccccccccccccccccbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbdbdddddddddddddddddddddddddddddddddddd
    bbbbbbbbbbbbbbbbbbbbbbccccccccccccccccccccccccccccccccccccccccccccbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbddddddddddddddddddddddddddddddddddd
    bbbbbbbbddbbbbbbbbbbbbcccccccccccccccccccccccccccccccccccccccccccccbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbdddddddddddddddddddddddd
    bbbbbbbdddddbbbbbbbbbbcccccccccccccccccccccccccccccccccccccccccccccbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbdddddddddddddddddddd
    bbbbddddddddddddddbbbbcccccccccccccccccccccccccccccccccccccccccccccccbbbbbbbbbbbbddbbbbbbbbbbbbbbbbbbddddddddbbbbbbbbbbbbbbbbbbbbbbbbbbbbbcbbbdddddddddddddddddd
    bbbddddddddddddbbbbbbbcccccccccccccccccccccccccccccccccccccccccccccccccbbbdbbdbddddddbbbbbbbbbbbddddddddddddddbbbbbbbbbbbbbbbbbbbbcbbcbbbbbbbbbbbbddddddcddddddd
    bbdddddddddddddbbbbbbbcccccccccccccccccccccccccccccccccccccccccccccbcccbbbbbddbddddddddddddddddddddddddddddddddddbbbbbbbbbbbbbbbbcbbbbbcbbbbbbbbbbbbbbbbdddddddd
    bddddddddddddddbdbbbbccccccccccccccccccccccccccccccccccccccccccbcbbbcbddddddddddddbdddddddddddddddddddddddddddddddddbbbbbbbbbbbbbbcbbbbcbbbbbbbbbbbbbbbbbbbddddd
    ddddddddddddddddbdbbbcccccccccccccccccccccccccccccccccccccccccbbcddddcdbddddbbddddbbdddddddddddbdddddddddddddddddddbdddbbbbbbbbbbbbbbbbbbbbbbbbbbbbcbbbbbbbbbbdd
    dbdbddddddddbdbdbbbbccccccccccccccccccccccccccccccccccbcccbcbbdbcddddddddddddddddddddddddbddddddddddddddddddddddddddddddbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbcbbbbbb
    ddddddbddddddddbbbbbcccccccccccccccccccccccccccccccbbcbccbbbbdbdddddddddddbbbddddddddddddddddddddddddddddddddddddddddddddddbbbbbbbbbbbbbbbbbbbbbbbbbbbbbcbbbbcbb
    ddddddddddddbdbbbbbbccccccccccccccccccccccccccccccbbbbbbdddddddbddddddddddddbddddddddddddddddddddddddddddddddddddddddddddddddbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
    dddddddddddddbbbbbbcccccccccccccccccccccccccccccbbbcddddbdbcdddcddddddddddddddddbdddbddddddddddbdddddddddddddddddddddddddddddddddddddddbbbbbbbbbbbbbbbbbbbbbbbbb
    ddddddddddddbbbbbbbcccccccccccccccccccccccccccbbddddddddbdbddddbdddddddddddddddddddddddddbbbddddddddddddddddddddddddddddddddddcddddddddddddbbbbbbcbbbbbbbbbbbbbb
    bdbddddddbddbbbbbbccccccccccccccccccccccccccbddddbbdddddddddddddddddddbddddddddddddddddddddddddddddbdbdddddddddddddddddddddddbddddddddcddddddddddbbbbbbcbcbbbbbb
    dbddbdddddddbbbbcccccccccccccccccccccccccccdbdbdddddddddddddddddddddddbddddddddbdcbddddddddddddddddddddddddddddddddddddddddddcddddddddddddddddddddddbbbbbcbbbbbb
    dddddddddddddddddbcbcccccccccccccccccccccbddcbbcdddbddddddddddddcdbddddddddddddddddddddbddddddddddddddddddddddddddddddddddddddddbdddddddddddddddddddbbbbbbbcbbbb
    ddddddddddddcddddddbbccccccccccccccccbcbcbddddddbdbcddddddddddddddddddddddddddcbddddddddddddbddddddddddddddddddddddddddddddddddddddddddddddddddddddddbbbbbbbbbbb
    dddddddddddbcdddddbddcbbcccccccbcccbbbbbccddbddddbdbdddddddddddddddddddddddddddddddddddddddddddddddddddddddbbdddddddddddddddddddcddddddddddddddddddddbbbbbbbbbbb
    bdddddddddcdddddddddbcbbbcbbbcbbbdddbddddbddddddddddddddddbddddddddddddddddbcdddcddddddddddddddddddddddddddccddddddddddddddddddddddddddddcddddddddddddbbbbccbbbb
    ddddddddddddbddddbdddbbdbcbddbdbddddddddddbdddddddbdddddcddddddddddddbddddddddddddddddbddddddddbddddddddddddddddddddddddddddddddddddddddddddddddddddddbbbbccbbbc
    dddcdddddddddddddddddcdddddddbdbbbdddbddddddddddddccdddddbddddddddcddddddddcddddddddddddddddddddddddddddddddddddddddcdddddddddddddddddddddddddddddddddbbbbbbbbbb
    dddbdddddddddddddddddcdddddddcbddddbbddddddcdbddbdddddddddddbcbbbdcbddddddcbddddddddddddddddddddddddddddbddddddddddddddddddddddddddddddddddcdddddddddddbbbbbbbbb
    bdddddddddddddddddddddddddddbddbdbcbdbbddddbdddddddddddddbbbbbbcbbbbcdbbddddbddbcddddddddddddddddbddddddddddddddddddddddddddddddbdcddddddddcddddddddddcbbbbbbbbb
    dddddddddddddddddddddddddddbbdddddbcdddddddbddddcdbbdbbbbcccbbccccbcbcbbbbbbbbccbcbbbdbbbbddddddddddddddddddddddddddbbbbddddddddcdbddddddddddddddddddddbbbbbbbbb
    dddddddddddddddddddbdddddcbbddddddbbdddddddbbddddbbbbbccccccccccccccccccccccccccccbccbcbbccbdbbdddddddddddddddddddbbbbbbddbddddddddddddddddbbddddddddddbbbbbbbbb
    bbbdddddddbddddddddddddbddcddbdddddbbddbccbcccbbcbbbcbccccccccccccccccccccccccccbcccccccccccccbbbdddddddddddddbbbbccccbbdddddddddcdddddddddddddddddddddbbbbbbbbb
    cccbddddddddddddddddddddddbdddddbbbcbcccccbcccccccccccccccccccccccccccccccccccccccccccccccccccbccccbdbdddbdbbbcccbccbbbdddbddddddddddddddddddddddddddddbbbbbbbbb
    ccccddbdddddddddddcddddccbbbccbbcbbccccccbcccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccbcccbddddddddddddddddddddcdddddddddddddbbbbbbbb
    ccbbbbbddddddddddbcdddcccccccccbccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccbcccccccccccccccccbbddddddddddddddddddddddddddddddddddddbbbbbbbb
    ccccccbcbbbdddddbcccbccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccbddddddddddddddddddddddddddddddddddddddbbbbbbbb
    cccccccbccbbbcbccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccbcbdddddddddddddddddddddddddddcbdddddddddddbbbbbbbb
    cccccccccccbcbcccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccbccccccccccccccccbbdddddbddddddddddddddddddddddddddddddddddbbbbbbbb
    ccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccbcbbcccccccccccccbbbbddddddddddddddcddddddddddddddddddddddddddbbbbbbbb
    ccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccbcccbbcccccbbcccccccbbbbddddddddddddddddddddddddddddddddddddddddddbbbbbbbb
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccbcbddddddbbcbbbdbccccbbdddddbdddddddddddddddddddddddddddddddddddddddddbbbbbbb
    cccccccccccccccccccccccccccccccbbccccccccccccccccccccccccccccccccccccccccbcccbbbbbbddddddddddddddbbbbbbdddddcdddddddddddbddddddddddddddddddddddddddddddddbbbbbbc
    cccccccccccccccccccccccccccccbbddcbccccbccccccccccccccccccccccccccccccbdbbbbddddbdddddbddddddddddddddddddddddccdddddddddcdddddddddddddddddddddddddddddddddbbbbbb
    cccccccccccccccccccccccccccbbbcddbbcbbbbbccbbcccccccccccccccccccccbbbddddbbdddddbdccddbdddddddddddddddddddddddddddddddbcddddddddddddddddddddcddddddddddddddbbbbb
    ccccccccccccccccccccccccccbddddddbbbbddbbbbdbccccccccccccccccccbcddddddddddbddcbdccbdddddddddddddddddddddddddddddddddbddddddddddddddddddddddddddddddddddddddbbbb
    cccccccccccccccbccccccccbcdddddddddbddddddbbbddbbbbccccccccccccdbdddddddddddbddddddddddddddddddddddddddddddddddddddcdcdddddddddddddddddcbddddddddddddddcddddbbbb
    cccccccccccccccccccccdccccbddddddddddddddbcbcdddddbbbcccccbbbcdddddddbdddddddddddddddddddddddddddddddddddddddddddddddbddddddddddddddddddbddddddddddddcbcddddbbbb
    ccccccccccccccccccdccddddccbdddddddddddddddbdbddddddcdbcbdddddddddddddddddddddddddddddddddddddddddddddddddddddddbdddddddcdddddbddddddddddccddddddddddddddddddbbb
    cccccccccccccccddcddcccddddccdddddddddddddcccdddddbdbddbdddddddddddddddddddddddddddddddddddddddddddddddddddddddbcddddddddddddddddddddddddddddddddddddddddddddbbb
    cccccccdccddddcddddddcddddddcfddddddddddddbccbddddbddddddddddddddddddddddddddddddddddddddddddddddddddddddddddbcdddddddddddddddddddcddddddddddddddbdddddddddddbbb
    ccdcccdddddddddddddddddddddcfccddddddddddbdcdddddddddddddddddddddddddddddddddddddddddddddbccbbccbcbbbdbbbdbddddddddddddddddddddcddddddddddddddddddddddddddddbbbb
    cddcccddddddddddddddddddddddbcdcdddddddddccbdbdddddddddddddddddddddddddddddddddddddddbdddccccbdcdddddcbcdddcddcddddddddddccdddcdddddddddddddddbddddddddddddbbbbb
    dcdddddddddddddddddddddddddddddbcbbdddddbcbcdbbbcbdbddddddddddddddddddddddddddddddbbccddddddddddddddddcbddddddddddddddddcdddddddddddddddddddccddddddddddddbbbbbb
    dddddddddddddddddddddddddddddddcdddcdcdddcbcfcbccdccbddddddddddddddddddddddddddddbbbcdddddddddddddddddddcdbddddddddddddcdddddddddddddddddddddddddddddddddbbbbbbb
    ddddddddddddddddddddddddddddddddddddcdddddddffdfcddddccddddddddddddddddddddddddbdccdddddddddddddddddddddcddddcdddddddddddddddddddddddddddddddddddddddddbbbbbbbbb
    ddddddddddddddddddddddddddddddddddddbdbdddddbcfbddddddcccbcbcbdddddddddddddccccddddddddddddddddddddddddddddddddddddddddddcdddddddccdddddddddddddddddddbbbbbbbbbb
    ddddddddddddddddddddddddddddccdddddddddddddddddcdddddddddcddccccddbdbbbdddcfddddddddddddddddddddddddddddddddddddddddddddddddddddddddddbdddddddddddddbbbbbbbbbbbb
    dddddddddddddddddddcdddddddddddddddddddddddddddddddddddcdbdddddddddddddddddcddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddbbbbbbbbbbbbbbbb
    ddddddddddddddddddddddddddddddddddddddddddddddcddddddcdddddddddddddddddddddbddddcbddddddddddcddddddddddddddddddddddddddddddddddddddddddddbbbbbbbbbbbbbbcbbcbbbbb
    ddddddddddddddddddddddddddddddddcdddddddbdddddddddddddddddddddddddddddcdddddddddddddddddddddddddddddddddddddddddddddddddddddddddddbdbbbbbbbbbbbbbbbbbbbbbbbbbbbb
    dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddbddddbbbbbbbbbcbbcbbbbbbbbbbbbbbbbb
    dddddddddddddddddddddddddddddddddbddddddbddddddddddddddddddddddbdcddddcdddddddddddddddcddddddddddddddddddddddddddddddddddddddddbbbbbbbbbbbbbbbbbbbbbbbbbccbbbbbb
    `)
nv1_talk1 = sprites.create(img`
    . . . . . f f 4 4 f f . . . . . 
    . . . . f 5 4 5 5 4 5 f . . . . 
    . . . f e 4 5 5 5 5 4 e f . . . 
    . . f b 3 e 4 4 4 4 e 3 b f . . 
    . . f 3 3 3 3 3 3 3 3 3 3 f . . 
    . f 3 3 4 b 3 4 4 3 b 4 3 3 f . 
    . f 3 3 f f 4 4 4 4 f f 3 3 f . 
    . f 4 4 f 1 f 4 4 f 1 f 4 4 f . 
    . f 4 4 4 1 f d d f 1 4 4 4 f . 
    f f 4 4 f d d d d d d f 4 4 f f 
    f 4 4 f f f d d d d f f f 4 4 f 
    . f d d f b b b b b b f d d f . 
    . . d d c d d d d d d c d d . . 
    . . d f b d b d b d b b f d . . 
    . . . f f 1 d 1 d 1 d f f . . . 
    . . . . . f f b b f f . . . . . 
    `, SpriteKind.Player)
nv2_talk1 = sprites.create(img`
    . . . . f f f f . . . . . 
    . . f f f f f f f f . . . 
    . f f f f f f c f f f . . 
    f f f f f f c c f f f c . 
    f f f c f f f f f f f c . 
    c c c f f f e e f f c c . 
    f f f f f e e f f c c f . 
    f f f b f e e f b f f f . 
    . f 4 1 f 4 4 f 1 4 f . . 
    . f e 4 4 4 4 4 4 e f . . 
    . f f f e e e e f f f . . 
    f e f b 7 7 7 7 b f e f . 
    e 4 f 7 7 7 7 7 7 f 4 e . 
    e e f 6 6 6 6 6 6 f e e . 
    . . . f f f f f f . . . . 
    . . . f f . . f f . . . . 
    `, SpriteKind.Player)
nv1_talk1.setPosition(50, 82)
nv2_talk1.setPosition(100, 81)
game.showLongText("Game Demo", DialogLayout.Bottom)
game.showLongText("About 300 years ago, in the kingdom of Kurskal, there was a princess who fell in love with a poor boy but was not accepted by the King, so she and the boy fled to a forest edge to live.", DialogLayout.Full)
game.showLongText("Unfortunately, the boy fell seriously ill, she secretly brought him back to the kingdom to find a doctor to treat him, but no one had that ability.", DialogLayout.Full)
game.showLongText("The princess happened to meet a Witch who told her about the legend of the Kusloft forest ", DialogLayout.Full)
story.spriteSayText(nv2_talk1, "The Kusloft forest center has a Forest Spirit, if there is a Forest Spirit, it may not be possible to cure all diseases.", 15)
game.showLongText("Because she loved the boy so much, she decided to enter the Kusloft forest despite the Witch's intervention because the forest was full of mystery and danger.", DialogLayout.Full)
Map1()
game.onUpdate(function () {
    if (x1 == 1) {
        if (boss.vy < 0) {
            boss.setImage(img`
                .............6666...............
                ..........666667766.6666........
                .........677777777767776........
                ......66667775577757777666......
                .....677666675557557776777666...
                .....6776777775555577777766776..
                ...66666777777775777777766666...
                .66667767777755757555777776776..
                6666777677775577557555777767766.
                .6667767777777775577777777767666
                .c6766777677777775777777677766..
                cc77666667777777777777777666666c
                cc76666677777777777777777766776c
                c6666776777777777777766677666776
                66667766667776777767767766766666
                ccc76677677776677766767776776ccc
                cc7766776777677677676667767766cc
                .666c676667677766667766666666cc.
                .ccc66676666776666677677666cccc.
                ...ccc77c6767666676676677666ccc.
                ...cc676c7766676677666666c666cc.
                ....c6cc676c6677677c66c666ccc...
                ....ccccc6c66667667cc6ccc6ccc...
                ......ccccc66c66c66cccccccc.....
                .......cc.cc6c6ccc6cccc.cc......
                ...........cccccccccc...........
                .............feeeeee............
                ............feeeeeefe...........
                .........eeeeefeeeffee..........
                ............ffffeef..ee.........
                ...............fee..............
                ................e...............
                `)
        } else if (boss.vy > 0) {
            boss.setImage(img`
                ................86..................
                ...........6688867886...............
                ...........8666877688868............
                ............868777767768............
                .........688667777776688............
                ........67767777777778666...........
                .........6776667767666868...........
                ..........866667667677688...........
                .........8666666666667778...........
                ........667766666666666676..........
                .......67766667666776667776.........
                ......886667776676777666688.........
                .....67766777667767777666768........
                ....6776666666777667776666776.......
                .....8667776667766676677776776......
                ......8777666666667776777776688.....
                ....6887766776677677777777776776....
                ..8866666677767777777777766666778...
                .86666666777667767777766666776668...
                ..88677666666777677677666667776668..
                ..86776677666666666666667776666668..
                886666677766667666666776677766668...
                6668666676667766767767766677666668..
                88866666666777677677667666666776668.
                .86668866666766776776666667766666668
                .86688666666666776666667667776666688
                .668866666666666666666677666666688..
                ..8866686666666666677667776666668...
                ...866886666666666677667776666668...
                ...86886668666666667666666666888....
                ....88866886686666666666666668......
                ......86886668666866668666868.......
                ......88866688668866688866888.......
                ........8888888688888ce868..........
                ..............e88e88.ec.8...........
                ...............eeee..e..............
                ...............ceef.ce..............
                ...............ceefcec..............
                ...............feefce...............
                ...............fceeec...............
                ...............ffceec...............
                `)
        } else {
            boss.setImage(img`
                ......cc66......
                .....c6576c.....
                ....c677576c....
                ....cc677666....
                ...cc6c6667cc...
                ..6c666777cc6c..
                ..c76666766776..
                ..c6777777776c..
                ..cc67777776cc..
                .c67cc76676676c.
                .c777666667777c.
                .c6777777777766.
                .cc7767776776666
                c676cc6766666776
                c777766666677776
                cc7777777777776c
                .c676777677767c.
                ..cc667666766c..
                ...ccc6c66ccc...
                .....cccccc.....
                .......ee.......
                ......eeee......
                .....eeeeee.....
                .......ee.......
                `)
        }
        if (boss.isHittingTile(CollisionDirection.Bottom)) {
            boss.vy += -320
        }
    }
})
game.onUpdateInterval(2000, function () {
    if (x1 == 1) {
        skill1_boss_map3 = sprites.createProjectileFromSprite(img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . 7 7 7 7 7 . . . . . 
            f . . . . 7 7 7 f 7 7 7 7 . . . 
            7 f . . 7 7 7 f 7 7 7 f 7 7 7 . 
            . 7 f f 7 7 f 7 7 7 f 7 7 7 f 7 
            . . 7 7 f f f f f f f f f f 7 . 
            . . . . 7 7 7 f 7 7 f 7 7 7 . . 
            . . . . . . 7 7 f 7 7 f 7 . . . 
            . . . . . . . 7 7 7 7 7 . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `, boss, 100, -100)
        skill2_boss_map3 = sprites.createProjectileFromSprite(img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . 7 7 7 7 7 . . . . . 
            f . . . . 7 7 7 f 7 7 7 7 . . . 
            7 f . . 7 7 7 f 7 7 7 f 7 7 7 . 
            . 7 f f 7 7 f 7 7 7 f 7 7 7 f 7 
            . . 7 7 f f f f f f f f f f 7 . 
            . . . . 7 7 7 f 7 7 f 7 7 7 . . 
            . . . . . . 7 7 f 7 7 f 7 . . . 
            . . . . . . . 7 7 7 7 7 . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `, boss, 100, 0)
        skill3_boss_map3 = sprites.createProjectileFromSprite(img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . 7 7 7 7 7 . . . . . 
            f . . . . 7 7 7 f 7 7 7 7 . . . 
            7 f . . 7 7 7 f 7 7 7 f 7 7 7 . 
            . 7 f f 7 7 f 7 7 7 f 7 7 7 f 7 
            . . 7 7 f f f f f f f f f f 7 . 
            . . . . 7 7 7 f 7 7 f 7 7 7 . . 
            . . . . . . 7 7 f 7 7 f 7 . . . 
            . . . . . . . 7 7 7 7 7 . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `, boss, 100, 50)
    }
})
